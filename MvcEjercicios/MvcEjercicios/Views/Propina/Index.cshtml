@model MvcEjercicios.Models.PropinaViewModel

@{
    ViewData["Title"] = "Calculadora de Propinas";
}

<div class="row">
    <div class="col-md-6 offset-md-3">
        <h1>💸 Calculadora de Propinas (Ejercicio 2)</h1>
        <hr />

        <form asp-controller="Propina" asp-action="Calcular" method="post">

            <div class="mb-3">
                <label asp-for="MontoTotal" class="form-label">Monto Total de la Cuenta ($):</label>
                <input asp-for="MontoTotal" type="number" step="0.01" min="0" class="form-control" required />
            </div>

            <div class="mb-3">
                <label asp-for="PorcentajePropina" class="form-label">Porcentaje de Propina (%):</label>
                <select asp-for="PorcentajePropina" class="form-select">
                    <option value="10">10%</option>
                    <option value="15">15%</option>
                    <option value="18">18%</option>
                    <option value="20">20%</option>
                </select>
            </div>

            <button type="submit" class="btn btn-primary">Calcular Propina</button>
        </form>

        @* Muestra los resultados solo si se calcularon *@
        @if (Model.MontoPropina > 0 || Model.TotalConPropina > 0)
        {
            <hr />
            <div class="card p-3 bg-light">
                <h4>Resultados</h4>
                <p><strong>Monto de la Propina (@Model.PorcentajePropina%):</strong> $@Model.MontoPropina.ToString("N2")</p>
                <p class="fs-4 text-success"><strong>Total a Pagar:</strong> $@Model.TotalConPropina.ToString("N2")</p>
            </div>
        }
    </div>
</div>